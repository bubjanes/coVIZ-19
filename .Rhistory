covid$date = sub('X', '', covid$date)
View(covid)
covid$date = as.Date(covid$date, format='%M.%D.%Y.%H.%M')
View(covid)
covid <- cbind(date,transpose_header)
View(covid)
View(covid)
covid <- cbind(date,transpose_header)
View(covid)
covid$date = sub('X', '', covid$date)
View(covid)
covid$date = substr(covid$date,1,nchar(covid$date)-6)
View(covid)
covid <- cbind(date,transpose_header)
View(covid)
covid$date = sub('X', '', covid$date)
View(covid)
covid$date = substr(covid$date,1,nchar(covid$date)7)
substring().help()
substring().help
substr(covid$date,0,7)
covid$date<-substr(covid$date,0,7)
View(covid)
covid$date = as.Date(covid$date, format='%m.%d.%y')
View(covid)
covid[-1] = as.numeric(unlist(covid[-1]))
View(covid)
covid <- cbind(date,transpose_header)
View(covid)
covid$date = sub('X', '', covid$date)
View(covid)
covid$date = sub('X', '', covid$date)
covid$date<-substr(covid$date,0,7)
View(covid)
covid$date = as.Date(covid$date, format='%m.%d.%y')
View(covid)
str(covid)
View(covid)
covid[-1] = as.numeric(unlist(covid[-1]))
View(covid)
covid <- cbind(date,transpose_header)
covid$date = sub('X', '', covid$date)
covid$date<-substr(covid$date,0,7)
covid[2,75] = as.numeric(unlist(covid[2,75]))
sapply(covid,class)
covid$date = as.Date(covid$date, format='%m.%d.%y')
View(covid)
covid[,2:75] <- lapply(covid[,2:75], as.numeric)
covid[,2] <- lapply(covid[,2], as.numeric)
View(covid)
covid <- cbind(date,transpose_header)
covid$date = sub('X', '', covid$date)
View(covid)
covid$date<-substr(covid$date,0,7)
covid$date = as.Date(covid$date, format='%m.%d.%y')
ggplot(data=covid, aes(x=date, y=US, group=1)) +
geom_line()+
geom_point()
ggplot(data=covid, aes(x=date, y=Mainland China, group=1)) +
geom_line()+
geom_point()
ggplot(data=covid, aes(x=date, y=canada, group=1)) +
geom_line()+
geom_point()
ggplot(data=covid, aes(x=date, y=Canada, group=1)) +
geom_line()+
geom_point()
instanceconvert <- colnames(covid[2:75])
covid_sm <- covid[2:75]
covid_sm <- covid[2,75]
View(covid_sm)
covid_sm <- covid[,c(2:75)]
covid_sm <- covid[,c(2:74)]
covid_sm <- covid[,c(2:5)]
View(covid_sm)
covid_sm <- covid[,c(2:70)]
covid_sm <- covid[,c(2:10)]
covid_sm <- covid[,c(2:50)]
covid_sm <- covid[,c(2:45)]
covid_sm <- covid[,c(2:40)]
ncol(covid)
covid_sm <- covid[,c(2:30)]
x <- lapply(covid_sm, as.numeric).
x <- lapply(covid_sm, as.numeric)
View(x)
covid_new <- cbind(date,x)
covid_date <- covid[,c(1)]
covid_new <- cbind(covid_date,x)
View(covid)
ncols(covid)
ncol(covid)
colnames(covid)
covid %>% select(-date)
x <- lapply((covid %>% select(-date),as.numeric)
x <- lapply((covid %>% select(-date),as.numeric))
x<-covid %>% select(-date)
View(x)
y <- lapply(x, as.numeric)
View(y)
x = as.numeric(unlist(x))
View(x)
colnames(covid)
country <- colnames(covid) - "date"
x[-c(1)]
country <- colnames(covid) - "date"
covid$date = as.Date(covid$date, format='%m.%d.%y')
View(covid)
country <- colnames(covid)
country(-c(1))
country[-c(1)]
for (i in country)
{
covid$i <- as.numeric(covid$i)
}
for (i in country)
{
covid[[i]] <- as.numeric(covid[[i]])
}
View(x)
View(covid)
View(covid)
transpose_df <- as.data.frame(t(df))
transpose_header <- header.true(transpose_df)
date <- rownames(transpose_header)
rownames(transpose_header) <- NULL
covid <- cbind(date,transpose_header)
View(covid)
head(covid)
covid$date = sub('X', '', covid$date)
covid$date<-substr(covid$date,0,7)
covid$date = as.Date(covid$date, format='%m.%d.%y')
View(covid)
country <- colnames(covid)
country
country(-c(1))
country[-c(1)]
for (i in country)
{
covid[[i]] <- as.numeric(as.character(covid[[i]]))
}
View(covid)
covid <- cbind(date,transpose_header)
covid$date = sub('X', '', covid$date)
View(transpose_header)
for (i in country)
{
transpose_header[[i]] <- as.numeric(as.character(transpose_header[[i]]))
}
View(transpose)
View(transpose_header)
str(transpose_header)
country
country[-c(1)]
country <- country[-c(1)]
for (i in country)
{
transpose_header[[i]] <- as.numeric(as.character(transpose_header[[i]]))
}
View(transpose_header)
str(transpose_header)
View(transpose_header)
covid <- cbind(date,transpose_header)
View(covid)
covid$date = sub('X', '', covid$date)
covid$date<-substr(covid$date,0,7)
covid$date = as.Date(covid$date, format='%m.%d.%y')
View(covid)
str(covid)
ggplot(data=df, aes(x=date, y=US, group=1)) +
geom_line()+
geom_point()
ggplot(data=df, aes(x=date, y=UK, group=1)) +
geom_line()+
geom_point()
ggplot(data=covid, aes(x=date, y=UK, group=1)) +
geom_line()+
geom_point()
ggplot(data=covid, aes(x=date, y=US, group=1)) +
geom_line(linetype = "dashed")+
geom_point()
ggplot(data=covid, aes(x=date, y=US, group=1)) +
geom_line(linetype = "dashed")+
geom_point() +
labs(y = "Confirmed cases", x = "total cases", title = "Time series of confirmed COVID-19 cases")
ggplot(data=covid, aes(x=date, y=Mainland China, group=1)) +
geom_line(linetype = "dashed")+
geom_point() +
labs(y = "Confirmed cases", x = "total cases", title = "Time series of confirmed COVID-19 cases")
label <- "Mainland China"
ggplot(data=covid, aes(x=date, y=label, group=1)) +
geom_line(linetype = "dashed")+
geom_point() +
labs(y = "Confirmed cases", x = "total cases", title = "Time series of confirmed COVID-19 cases")
str(covid)
ggplot(data=covid, aes(x=date, y=US, group=1)) +
+   geom_line(linetype = "dashed")+
+   labs(y = "Confirmed cases", x = "total cases", title = "Time series of confirmed COVID-19 cases")
ggplot(data=covid, aes(x=date, y=US, group=1)) +   geom_line(linetype = "dashed")+ labs(y = "Confirmed cases", x = "total cases", title = "Time series of confirmed COVID-19 cases")
ggplot(data=covid, aes(x=date, y=US, group=1)) +   geom_line(size=2, linetype = "dashed")+ labs(y = "Confirmed cases in the US", x = "total cases", title = "Time series of confirmed COVID-19 cases")
ggplot(data=covid, aes(x=date, y=US, group=1)) +   geom_line(size=2, linetype = 3)+ labs(y = "Confirmed cases in the US", x = "total cases", title = "Time series of confirmed COVID-19 cases")
ggplot(data=covid, aes(x=date, y=US, group=1)) +   geom_line(size=2, linetype = 4)+ labs(y = "Confirmed cases in the US", x = "total cases", title = "Time series of confirmed COVID-19 cases")
ggplot(data=covid, aes(x=date, y=US, group=1)) +   geom_line(size=2, linetype = 1)+ labs(y = "Confirmed cases in the US", x = "total cases", title = "Time series of confirmed COVID-19 cases")
?geom_line
ggplot(data=covid, aes(x=date, y=US, group=1)) +   geom_line(size=2, linetype = 1)+ geom_smooth()+ labs(y = "Confirmed cases in the US", x = "total cases", title = "Time series of confirmed COVID-19 cases")
rm(list=ls())
getwd()
confirmed <- read.csv("./data/time_series_19-covid-Confirmed.csv", stringsAsFactors = FALSE)
confirm <- select(confirmed, -(Lat:Long))
matriz <- select(confirm, -(Province.State))
matriz[-1] = as.numeric(unlist(matriz[-1]))
matriz[is.na(matriz)] <- 0
df <- matriz %>%
+     group_by(Country.Region) %>%
+     summarise_all(funs(sum))
View(matriz())
View(matriz
View(matriz)
df <- matriz %>%
+     group_by(Country.Region) %>%
+     summarise_all(funs(sum))
View(matriz)
df <- matriz %>%
+     group_by(Country.Region) %>%
+     summarise_all(funs(sum))
matriz %>%
+     group_by(X1.22.20)
matriz %>%
+     group_by(X1.22.20)
colnames(matriz)
df <- matriz %>%
+     group_by("Country.Region") %>%
+     summarise_all(funs(sum))
confirmed <- read.csv("./data/archived_time_series/time_series_2019-ncov-Confirmed.csv", stringsAsFactors = FALSE)
confirm <- select(confirmed, -(Lat:Long))
matriz <- select(confirm, -(Province.State))
matriz[-1] = as.numeric(unlist(matriz[-1]))
matriz[is.na(matriz)] <- 0
df <- matriz %>%
+     group_by(Country.Region) %>%
+     summarise_all(funs(sum))
matriz
df <- matriz %>%
+     group_by(Country.Region)
df <- matriz %>%
+     group_by(Country.Region)
matriz %>% select(Country.Region)
df <- matriz %>% groupby(Country.Region)
df <- matriz %>% groupby(,Country.Region)
?group_by
groupby(matriz,Country.Region)
df <- matriz %>% group_by(Country.Region) %>% summarise_all(funs(sum))
View(df)
transpose_df <- as.data.frame(t(df))
transpose_df
header.true <- function(df) {
names(df) <- as.character(unlist(df[1,]))
df[-1,]
}
header.true <- function(df) {
names(df) <- as.character(unlist(df[1,]))
df[-1,]
}
date <- rownames(transpose_header)
View(transpose_header)
transpose_header <- header.true(transpose_df)
date <- rownames(transpose_header)
View(transpose_header)
rownames(transpose_header) <- NULL
country <- colnames(transpose_header)
country <- country[-c(1)]
for (i in country)
{
transpose_header[[i]] <- as.numeric(as.character(transpose_header[[i]]))
}
corona <- cbind(date,transpose_header)
View(corona)
corona$date = sub('X', '', corona$date)
corona$date<-substr(corona$date,0,7)
covid$date = as.Date(covid$date, format='%m.%d.%y')
corona$date = as.Date(corona$date, format='%m.%d.%y')
covid <- corona
ggplot(data=covid, aes(x=date, y=US, group=1)) +   geom_line(linetype = "dashed")+ labs(y = "Confirmed cases in the US", x = "total cases", title = "Time series of confirmed COVID-19 cases")
rm(list=ls())
confirmed <- read.csv("./data/time_series_19-covid-Confirmed.csv", stringsAsFactors = FALSE)
confirm <- select(confirmed, -(Lat:Long))
matriz <- select(confirm, -(Province.State))
matriz[-1] = as.numeric(unlist(matriz[-1]))
matriz[is.na(matriz)] <- 0
df <- matriz %>% group_by(Country.Region) %>% summarise_all(funs(sum))
transpose_df <- as.data.frame(t(df))
header.true <- function(df) {
names(df) <- as.character(unlist(df[1,]))
df[-1,]
}
transpose_header <- header.true(transpose_df)
date <- rownames(transpose_header)
rownames(transpose_header) <- NULL
country <- colnames(transpose_header)
country <- country[-c(1)]
for (i in country)
{
transpose_header[[i]] <- as.numeric(as.character(transpose_header[[i]]))
}
corona <- cbind(date,transpose_header)
corona$date = sub('X', '', corona$date)
corona$date<-substr(corona$date,0,7)
corona$date = as.Date(corona$date, format='%m.%d.%y')
covid <- corona
View(covid)
ggplot(data=covid, aes(x=date, y=US, group=1)) +   geom_line(linetype = "dashed")+ labs(y = "Confirmed cases in the US", x = "total cases", title = "Time series of confirmed COVID-19 cases")
ggplot(data=covid, aes(x=date, y=US, group=1)) +   geom_line(linetype = 1)+ labs(y = "Confirmed cases in the US", x = "total cases", title = "Time series of confirmed COVID-19 cases")
ggplot(data=covid, aes(x=date, y=US, group=1)) +   geom_line(linetype = 1)+   geom_line(y=UK,linetype = 1)+ labs(y = "Confirmed cases in the US", x = "total cases", title = "Time series of confirmed COVID-19 cases")
ggplot(data=covid, aes(x=date, y=US, group=1)) +   geom_line(linetype = 1)+   geom_line(y=UK,linetype = 1)+ labs(y = "Confirmed cases in the US", x = "total cases", title = "Time series of confirmed COVID-19 cases")
ggplot(data=covid, aes(x=date, y=US, group=1)) +   geom_line(linetype = 1)+   geom_line(y=Argentina,linetype = 1)+ labs(y = "Confirmed cases in the US", x = "total cases", title = "Time series of confirmed COVID-19 cases")
ggplot(data=covid, aes(x=date, y=US, group=1)) +   geom_line(linetype = 1)+   geom_line(y=Argentina,linetype = 1)
ggplot(data=covid, aes(x=date, y=US, group=1)) +   geom_line(linetype = 1)+   geom_line(y=Malta)
ggplot(data=covid, aes(x=date, y=US, group=1)) +   geom_line(linetype = 1)+   geom_line(x=date,y=Malta)
ggplot(data=covid, aes(x=date, y=US, group=1)) +   geom_line(linetype = 1)
ggplot(data=covid, aes(x=date, y=US, group=1)) +   geom_line(linetype = 1,color=red)
ggplot(data=covid, aes(x=date, y=US, group=1)) +   geom_line(linetype = 1,color="red")
ggplot(data=covid, aes(x=date, y=US, group=1)) +   geom_line(linetype = 1,color="red")+ geom_line(y="Argentina",linetype = 1,color="blue")
ggplot(data=covid, aes(x=date, y=US, group=1)) +   geom_line(linetype = 1,color="red")
ggplot(data=covid, aes(x=date, y=US, group=1)) +   geom_line(linetype = 1,color="red")+ geom_line(y="Argentina",linetype = 1,color="blue")
ggplot(data=covid, aes(x=date, y=Argentina, group=1)) +   geom_line(linetype = 1,color="red")
ggplot(data=covid, aes(x=date, y=Argentina, group=1)) +   geom_line(linetype = 1,color="red")+geom_line(y=US,linetype = 1,color="blue")
covid %>% ggplot(aes(x=date, y=Argentina)) +   geom_line(linetype = 1,color="red") + geom_line(y=US,linetype = 1,color="blue")
covid %>% ggplot(aes(x=date, y=Argentina)) +   geom_line(color="red") + geom_line(y=US,color="blue")
covid %>% ggplot(aes(x=date, y=Argentina)) +   geom_line(color="red") + geom_line(y="US",color="blue")
covid %>% ggplot(aes(x=date, y=Argentina))
covid %>% ggplot(aes(x=date, y=Argentina)) +   geom_line(color="red")
covid %>% ggplot(aes(x=date, y=Argentina)) +   geom_line(color="red")+
theme_classic() +
covid %>% ggplot(aes(x=date, y=Argentina)) +   geom_line(color="red")+
theme_classic()
covid %>% ggplot(aes(x=date, y=Argentina)) +   geom_line(color="red")+
theme_economist()
View(confirmed)
covid %>% ggplot(aes(x=date, y=Argentina)) +   geom_line(color="red")+
theme_classic()
ggplot(covid,aes(x=date, y=Argentina)) +   geom_line(color="red")+
+   theme_classic()+ labs(y = "Confirmed cases in the Argentina", x = "total cases", title = "Argentina time seriesconfirmed COVID-19 cases")
ggplot(covid,aes(x=date, y=Argentina)) +   geom_line(color="red")+
theme_classic()+ labs(y = "Confirmed cases in the Argentina", x = "total cases", title = "Argentina time seriesconfirmed COVID-19 cases")
ggplot(covid,aes(x=date, y=Argentina)) +   geom_line(color="red")+
theme_classic()+ labs(y = "Confirmed cases in the Argentina", x = "total cases", title = "Argentina time seriesconfirmed COVID-19 cases")
confirmed <- read.csv("./data/time_series_19-covid-Confirmed.csv", stringsAsFactors = FALSE)
confirm <- select(confirmed, -(Lat:Long))
matriz <- select(confirm, -(Province.State))
matriz[-1] = as.numeric(unlist(matriz[-1]))
matriz[is.na(matriz)] <- 0
matriz
View(matriz)
install.packages(reshape2)
library(reshape2)
confirmed <- read.csv("./data/time_series_19-covid-Confirmed.csv", stringsAsFactors = FALSE)
confirm <- select(confirmed, -(Lat:Long))
matriz <- select(confirm, -(Province.State))
View(matriz)
rm(list=ls())
confirmed <- read.csv("./data/time_series_19-covid-Confirmed.csv", stringsAsFactors = FALSE)
confirm <- select(confirmed, -(Lat:Long))
matriz <- select(confirm, -(Province.State))
matriz[-1] = as.numeric(unlist(matriz[-1]))
matriz[is.na(matriz)] <- 0
transpose_df <- as.data.frame(t(matriz))
View(transpose)
View(transpose_df)
header.true <- function(df) {
names(df) <- as.character(unlist(df[1,]))
df[-1,]
}
transpose_header <- header.true(transpose_df)
View(transpose_header)
as.data.frame(as.table(transpose_header))
library(reshape2)
setNames(melt(transpose_header), c('date', 'country', 'confirmed'))
three_cols <- setNames(melt(transpose_header), c('date', 'country', 'confirmed'))
View(three_cols)
transpose_df <- as.data.frame(t(matriz))
header.true <- function(df) {
names(df) <- as.character(unlist(df[1,]))
df[-1,]
}
transpose_header <- header.true(transpose_df)
three_cols <- setNames(melt(transpose_header), c('date', 'country', 'confirmed'))
View(three_cols)
transpose_header <- header.true(transpose_df)
View(transpose_header)
data.frame(rows=rownames(transpose_header)[row(transpose_header)], vars=colnames(transpose_header)[col(transpose_header)],values=c(transpose_header))
three_cols <- data.frame(rows=rownames(transpose_header)[row(transpose_header)], vars=colnames(transpose_header)[col(transpose_header)],values=c(transpose_header))
transpose_header <- header.true(transpose_df)
three_cols <- data.frame(rows=rownames(transpose_header)[row(transpose_header)], vars=colnames(transpose_header)[col(transpose_header)],values=c(transpose_header))
View(three_cols)
View(transpose_header)
output <-
input %>%
gather(vars,count,-rows) %>%
arrange(rows)
output <-
transpose_header %>%
gather(vars,count,-rows) %>%
arrange(rows)
df <- matriz %>% group_by(Country.Region) %>% summarise_all(funs(sum))
transpose_df <- as.data.frame(t(df))
header.true <- function(df) {
names(df) <- as.character(unlist(df[1,]))
df[-1,]
}
transpose_header <- header.true(transpose_df)
as.data.frame(as.table(transpose_header))
data.frame(rows=rownames(transpose_header)[row(transpose_header)], vars=colnames(transpose_header)[col(transpose_header)],values=c(transpose_header))
transpose_header
setNames(melt(m1), c('rows', 'vars', 'values'))
setNames(melt(transpose_header), c('rows', 'vars', 'values'))
transpose_header
VIew(transpose_header)
View(transpose_header)
new_df <- setNames(melt(m1), c('rows', 'vars', 'values'))
new_df <- setNames(melt(transpose_df), c('rows', 'vars', 'values'))
View(new_df)
transpose_header
View(transpose_header)
output <-
transpose_header %>%
gather(vars,count,-rows) %>%
arrange(rows)
row.names(transpose_header)
colnames(transpose_header)
d <- data.frame(i=rep(row.names(transpose_header),ncol(transpose_header)),j=rep(colnames(transpose_header),each=nrow(transpose_header)),
score=as.vector(transpose_header))
View(d)
as.table(transpose_header)
d <- data.frame(i=rep(row.names(transpose_header),ncol(transpose_header)),
j=rep(colnames(transpose_header),each=nrow(transpose_header)),
score=as.vector(transpose_header))
View(d)
m = cbind(c(1,2,3),c(4,5,6),c(7,8,9))
row.names(m) = c('R1','R2','R3')
colnames(m) = c('C1','C2','C3')
m
d <- data.frame(i=rep(row.names(m),ncol(m)),
j=rep(colnames(m),each=nrow(m)),
score=as.vector(m))
d
m <- transpose_header
d <- data.frame(i=rep(row.names(m),ncol(m)),
j=rep(colnames(m),each=nrow(m)),
score=as.vector(m))
row.names(m)
ncol(m)
colnames(m)
nrow(m)
as.data.frame(cbind(rep(rownames(m), ncol(m)), rep(colnames(m), each=nrow(m)), c(m)))
new_df <- as.data.frame(cbind(rep(rownames(m), ncol(m)), rep(colnames(m), each=nrow(m)), c(m)))
View(new_df)
new_df <- as.data.frame(cbind(rep(rownames(m), ncol(m)), rep(colnames(m), each=nrow(m))))
new_df <- as.data.frame(cbind(rep(rownames(m), ncol(m)), rep(colnames(m), each=nrow(m)), c(m)))
c(m)
new_df <- as.data.frame(cbind(rep(rownames(m), ncol(m)), rep(colnames(m), each=nrow(m)), score=as.vector(transpose_header))
new_df <- as.data.frame(cbind(rep(rownames(m), ncol(m)), rep(colnames(m), each=nrow(m) score=as.vector(transpose_header))
new_df <- as.data.frame(cbind(rep(rownames(m), ncol(m)), rep(colnames(m), each=nrow(m), score=as.vector(transpose_header))
new_df <- as.data.frame(cbind(rep(rownames(m), ncol(m)), rep(colnames(m), each=nrow(m)), score=as.vector(transpose_header)
library(reshape)
View(trnaspose_header)
View(transpose_header)
library(data.table)
setDT(transpose_header, keep.rownames = TRUE)[]
d<-setDT(transpose_header, keep.rownames = TRUE)[]
View(d)
mdata <- melt(d, id=c("rn"))
subjmeans <- cast(mdata, rn, sum)
library(reshape2)
subjmeans <- cast(mdata, rn, sum)
library(reshape)
subjmeans <- cast(mdata, rn, sum)
mdata <- melt(d, id=c("rn"))
View(mdata)
mdata$rn = sub('X', '', mdata$rn)
corona$date<-substr(corona$date,0,7)
mdata$rn<-substr(mdata$rn,0,7)
mdata$rn = as.Date(mdata$rn, format='%m.%d.%y')
View(mdata)
ggplot(temp,aes(x =rn, y=Value, color=variable)) + geom_line()
ggplot(mdata,aes(x =rn, y=Value, color=variable)) + geom_line()
ggplot(mdata,aes(x =rn, y=value, color=variable)) + geom_line()
filter(mdata,value>1000)
big <- filter(mdata,value>1000)
ggplot(big,aes(x =rn, y=value, color=variable)) + geom_line()
med <- select(mdata, US, Spain, Argentina, Italy)
med <- select(mdata, Spain, Argentina, Italy)
med <- filter(mdata, variable=Argentina | variable=Italy | variable=US)
med <- filter(mdata, variable==Argentina | variable==Italy | variable==US)
(med <- filter(mdata, value>100))
med <- filter(mdata, value>100)
ggplot(med,aes(x =rn, y=value, color=variable)) + geom_line()
str(mdata)
mdata$value = as.numericas.character((mdata$value))
mdata$value = as.numeric(as.character((mdata$value)))
str(mdata)
ggplot(mdata,aes(x =rn, y=value, color=variable)) + geom_line()
tail(mdata)
med <- filter(mdata, value>100)
ggplot(med,aes(x =rn, y=value, color=variable)) + geom_line()
ggplot(med,aes(x =rn, y=value, color=variable)) + geom_point()
med <- filter(mdata, variable==Argentina)
str(mdata)
mdata$variable = as.character(mdata$variable)
str(mdata)
ggplot(mdata,aes(x =rn, y=value, color=variable)) + geom_line()
med <- filter(mdata, variable==Argentina)
mdata
mdata %>% group_by(variable, US)
